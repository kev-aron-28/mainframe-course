IGYWCL IS IN IGY420.SIGYPROC


# BASIC STRUCTURE OF A JOB
A JCL HAS THREE PARTS
1. JOB STMT: IDENTIFIES THE JOB TO THE SYSTEM
2. EXEC STMT: TELLS WHAT PROGRAM OR PROC TO RUN
3. DD STMT: DEFINE THE DATA THE PROGRAM WILL USER
      SDF
1. JOB STMT
IT TELLS THE JES HEY I AM A NEW JOB HERS WHO I AM
//HELLOJOB JOB (123),'KEVIN',CLASS=A,MSGCLASS=X,MSGLEVEL=(1,1)
JOB NAME MUST BE (1-8)CHARS
2. EXEC STMT
TELLS THE SYSTEM WHAT PROGRAM TO RUN OR WHAT PROC TO CALL
//STEP1 EXEC PGM=MYPROG
YOU CAN ALSO CALL PROC
//STEP1 PROC=MYPROC
3.DD STMT
DESCRIBES DATA SETS (FILES) THE PROGRAM WILL USER
//INPUT1 DD DSN=KEVIN.DATA.INPUT,DISP=SHR
//OUTPUT1 DD DSN=KEVIN.DATA.OUTPUT,DISP=(NEW,CATLG,DELETE),
//            SPACE=(CYL,(1,1)),UNIT=SYSDA
# GENERAL SYNTAX RULES
1. ALL JCL STMS START WITH //
2. COLUMNS MATTER
   1-2: NAME
   3-10: STMT NAME
   11-72: PARAMETERS
   73-80: SEQUENCE NUMBERS USED HISTORICALLY
3. STATEMENTS NAMES
   MUST START WITH A LETTER, MAX 8 CHARS
   CAN CONTAIN LETTERS NUMBERS OR @ # $
4.PARAMETER FORMAT
   KEYWORD=VALUE

# COMMON UTILITY PROGRAMS
- IEFBR14: DUMMY PROGRAM DOES NOTHING, USED TO CREATED/DELETE
  DATASETS
- IEBGENER: COPY DATA FROM ONE DATASET TO ANOTHER
- IEBCOPY: COPY OR MERGE LOAD LIBRARIES
- IEHLIST: LIST DATASET OR VOLUME INFO
- IDCAMS: DEFINE,DELETE OR LIST VSAM DATASET
- SORT: SORT OR MERGE DATA
 # JOB PARAMETERS
  CLASS:SPECIFIES JOB CLASS / PRIORITY
  MSGCLASS: SPECIFIES SYSOUT CLASS FOR JOB MESSAGES
  MSGLEVEL: (JCL,MSG) CONTROLS WHICH MESSAGES ARE PRINTED
  TYPRUN: SCAN, HOLD SCAN SYNTAX OR HOLD JOB WITHOUT EXECUTION
  PRTY: ASSIGN PRIORITY TO JOBS BELONGING TO THE SAME CLASS
  LOWP: MEANS LESS PRIORITY
  HIGHP: MEANS HIGH PRIORITY
  NOTIFY: &SYSUID OR AN USER ID, SEND MESSAGES WHEN JOB COMPLETES
  RESTART: FROM PARTICULAR STEP
# EXEC PARAMETERS
  PGM: PGM_NAME
  REGION: VIRTUAL STORAGE, CAN BE DEFINED AT JOB LEVEL OR EXEC LEVEL
  REGION: VALUE(K/M)
  K-KILOBYTES 1-2096128 K
  M-MEGABYTES 1-2047M
  REGION: 0K
  REGION: 0M
  REGION: NOLIMIT
  IMPROPER VALUE LEADS TO S4222/S822
  IF IN JOB LEVEL, IT WILL OVERWRITE THE ONE ON EXEC LEVEL

  TIME: OPTIONAA, THE AMOUNT OF CPU TIME THE JOB OR STEP IS
  ALLOWED TO USE
  TIME=(MIN,SEC)
  TIME=1440
  TIME=MAX

  ACCT=DEFINES THE ACCOUNTING INFO, OPTIONAL
  ACCT=(ACCOUNT#,[ADDIONTAL ACCOUNT INFO])

  PARM: USED TO SEND DATA TO A PROGRAM OPTIONAL
  PARM=123, PARM=(12,32),PARM=('13','23')
  IF JCL USES PROC
  1. //STEP01 EXEC PROC=PROC1,PARAM=1234
  - JCL PASSES 1234 TO THE VERY FIRST STEP OF PROC1
  - THE PARAMETER WHICH IS DEFINED AT THE STEP WHERE THE PROC IS
  INCLUDED IN THE JC OVERRIDES THE PARM DEFINE INSIDE THE PROC
  2. //STEP01 EXEC PROC=PROC2,PARAM.STEP5=(1234,'HI')
  - JCL PASSES THE ENTIRE STRING TO ONLY STEP5 OF THE PROC2
  -----------
  ------------ PART 2 ----------------
  PARAMETER FIELD: POSITIONAL AND KEYWORD

  DSNAME OR DSN: KEYWORD PARAMTER
  && - TEMPORARY DATASET
  DISP: STANDS FOR DISPOSITION AND IS OPTIONAL
  USED TO DESCRIBE THE STATUS OF DATASET
  DISP=(CS,ND,AD)
  CS-CURRENT STAUTS: NEW, OLD, SHR,MOD
  ND:NORMAL DISPOSITION WITHOUT ABEND
  AD:ABNORMAL DISPOSITION  WITH ABEND: KEEP,CATLG, UNCATLG

  CS WILL TAKE THIS VALUES:
  - NEW: CREATE A NEW DATASET
  - OLD: DATASET ALREADY EXISTS AND WILL BE USED EXCLUSIVELY IN THIS STE
  - SHR: THIS DATASET ALREADY EXISTS AND IS SHARED MODE
  - MOD:
      1. RETRIEVE THE DS IF IT ALREADY EXISTS BASD ON VOLUME
         -VOL=SER OR VOL=REF
      2. CREATE THE DATASET IF NOT EXISTS

 ND AND AD WILL TAKE THIS VALUES:
 - DELETE: DELETE AND UNCATALOG IT A AS WELL
 - KEEP: DONT DELETE THE DATASET, RETAIN IT
 - CATLG: CREATE AN ENTRY IN CATALOG
 - UNCATLG: DONT DELETE THE DS BUT BUT UNCATALOG IT
 - PASS: ONLY IN CASE OF ND, WILL BE RETAINED FOR LATER STEP

 SPACE: OPTIONAL AND IS USED TO SPECIFY HOW MUCH SPACE IS REQUIRED
 FOR THE DATASET
 SPACE=(TYPE,(PRIM_QTY,SEC_QTY,DRTRY)[,RSLE][,CONTIG][,MXIG],[,ROUND])
 -TYPE: SPACE ALLOCATION TYPE
   - TRK, CYL, BLKLGTH, RECLEGTH
 - PRIM_QTY: THE VALUE OF PRIMARY SPACE FOR THE DS
 - SEC_QTY: IT IS THE ADDITIONAL SPACE
 - DRTRY: DIRECTORY
 - RLSE: MEMORY ALLOCATED TO THIS DS ONCE THIS DS IS CLOSED
 - CONTIG: ALLOCATE THE MEMORY IN CONTIGUOS LOCATION
 - MXIG: ALLOCATE MEMORY IN CONTIGUOS LOCATION
 - ROUND: USED WHEN AVERAGE BLOCK LEN IS ALLOCATED
 NOTE:
   - DIRECTORY ALLOCATION IS ONLY FOR PDS
   - GIVE ENOUGH SPACE ALLOCATION TO AVOID SPACE ABEND
     IF PRIMARY AND SECONDARY SPACES ARE EXHAUSTED THE SYSTEM THROWS
     AN ABEND:
         SB37 ABEND FOR PS
         SE37 ABEND FOR PDS

UNIT: USED TO SPECIFY THE LOCATION OF THE DATASET
UNIT=(DEVICE_NAME, [COUNT])
UNIT=SYSDA
UNIT=2741 - REQUEST ON 2741 DEVIE
UNIT=INFILE - REQUEST ON INFILE DEVICE

VOLUME: USED TO SPECIFY THE VOLUME SERIAL NUMBER WHERE THE DATASET
        RESIDED
VOLUME=(P,R,VS,VC,SER)
P: PRIVATE
R: RETAIN
VS: VOLUME SERIAL NUMER
VC: VOLUME COUNT
SER: SERIAL NUMBER --MANDATORY

DCB: OPTIONAL, INFORMATION ABOUT DATASET IN DATA CONTROL BLOCK,
//DDNAME DD DCB=<PARAMS>
SOME OF THE PARAMS:
  - RECFM: DEFINE RECORD FORMAT: F/FB/V/VB/U
  - LRECL: DEFINE THE RECORD LEN
  - BLKSIZE: DEFINE THE BLOCK SIZE
  - DSORG: DATA SET ORGANIZATION
  - BUFNO: DEFINE THE BUFFER NUMBER
  - BUFSIZE: DEFINE THE BUFFER SIZE

 COND: CONDITIONAL, EXECUTE A STEP BASED ON RETURN CODE FROM PREV
       STEP
 COND=(RC, OP, STEPNAME)
 COND=(RC,OP)
 COND=EVEN
 COND=ONLY
 RC: RETURN CODE
 OP: OPERATOR
 STEPNAME: NAME OF PREVIOUS STEP
 OPERATORS: EQ, NE, LE, LT, GE, GT
 VARIATONS OF COND:
 TYPE1: COND=(0, EQ), IF RETURN CODE FROM PREV IS 0, NOT EXECUTED
 TYPE2: COND=(0,EQ,STEP10) IF RETURN CODE FROM STEP10 IS 0, NOT
 TYPE3: COND=EVEN, RUN EVEN IF THE PREVIOS HAS ABENDED
 TYPE4: COND=ONLY, RUN THIS ONLY IF THE PREVIOUS HAS ABENDED
 IN CASE OF TRUE, STATMNT NOT EXECUTED
 //  IF RC THEN
 //STEP2   EXEC PGM=SORT
 //  ENDIF
OR ALSO USE ELSE
//CHECK1 IF RC = 8 THEN
//STEP2   EXEC PGM=SORT
//ELSE1  ELSE
//STEP3  EXEC PGM=SORT
//      ENDIF


 STORAGE DUMP OR DUMP
SYSABEND FORMMATED + SYSTEM BLOCKS, PROGRAM + SYSTEM INFO
SYSMDUMP UNFORMATTED(BINARY) COMPLETE VIRTUAL MEMORY
SYSUDUMP FORMATTED, USERLEVEL STORAGE REGISTERS, SMALL
//SYSABEND DD DSN=KEVIN.FILE,DISP=(OLD,DELETE,KEEP)
//SYSMDUMP DD DSN=KEVIN.FILE,DISP=(OLD,DELETE,KEEP)
//SYSUDUMP DD DSN=KEVIN.FILE,DISP=(OLD,DELETE,KEEP)
OR
//SYSUDUMP DD SYSOUT=*
//SYSUDUMP DD SYSOUT=P

ADDRSPC: OPTIONAL AND KEYWORD
ADDRSPC=REAL
ADDRSPC=VIRTUAL

SYSIN: OPTIONAL PARAMETER, ITS A WAY TO PASS INPUT TO THE PROGRAM
TO ACCEPT DATA IN THE PROGRAM, WE NEED TO CODE 'ACCEPT' STMT
//SYSIN DD *
VALUES...
/*
DD * - IN-STREAM DATA

//SYSIN DD DATA
VALUES...
//*
THERES A NOTHER WAY OF PASSING DATA WITH PARM
IF SYSIN AND PARM BOTH ARE DEFINED IN THE JCL, PARM OVERRIDES THE
VALUES IN SYSIN

SYSOUT: OPTIONAL PARAMETER, USED TO DISPLAY THE OUTPUT IN THE SPOOL
        AREA OR TO AN OUTPUT CLASS

---------------- PROCEDURES
TO PERFORM A SET OF A REPETITIVE TASK, WE DEFINE PROCEDURE
MAXIMUM 255 STEPS ARE ALLOWED IN A PROCEDURE
NO JOB STATEMENT ARE ALLOWED IN THE PROCEDURE
NO NULL STATEMENT ALLOWED

THERE ARE TWO TYPES OF PROCEDURE:
1. INSTREM PROCEDURE
   DEFINED WITHIN THE JCL
   MUST START WITH PROC AND END WITH PEND
2. CATALOGED PROCEDURE
   DEIFINED AS A SEPARATED MEMBER OF A PDS
   PEND NOT REQUIRED

------- GDG ---------------
GENERATION DATA GROUP
CONTAINS GROUP OF SIMILAR DATA SETS WHICH ARE RELATED TO EACH OTHER
IN CHRONOLOGICAL ORDER

FORMAT:
- ABC.PQR.XYZ.GNNNVMM
G: GENERATION NUMBER: 0000 - 9999
V: VERSION NUMBER: 00 - 99
IF WE USE GDG:
- NO NEED TO CHANGE THE JCL EVERY TIME TO CHANGE THE DS NAME
- SET THE LIMIT OF THE RELATED FILES(GENERATIONS)
- EASILY KEEP TRACK OF ALL GENERATION DATA SETS
- DELETE OR UNCATALOG OLDER GENERATION
- REFER ANY GENERATION EASILY

------------- LIBRARIES
1. JOBLIB
OPTIONAL LIBRARY, PRIVATE WHERE THE PROGRAM IS KEPT

2. STEPLIB
PRIVATE
